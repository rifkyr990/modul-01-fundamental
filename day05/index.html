<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let menu = [
            ["rendang", 12000, 12],
            ["gulai ikan", 10000, 3]
        ];

        function displayMenu() {
            if (menu.length === 0) {
                alert("Menu kosong.");
                return;
            } else {
                let output = "=== Daftar Menu Warung Uda Asdi ===\n";
                for (let i = 0; i < menu.length; i++) {
                    output +=
                        `${i + 1}. ${menu[i][0]} harga ${menu[i][1].toLocaleString("id", {style: "currency",currency: "IDR",})} stok ${menu[i][2]} \n`;
                }
                alert(output);
            }
        }

        function tambahMenu() {
            let namaMenu = prompt("Masukan menu yang akan ditambahkan :");
            let hargaMenu = parseInt(prompt("Masukan harga menu yang akan ditambahkan :"));
            let stokMenu = parseInt(prompt("Masukan stok menu yang akan ditambahkan :"));

            if (namaMenu && namaMenu.trim() !== "") {
                menu.push([namaMenu, hargaMenu, stokMenu]);
            } else {
                alert("input gagal");
            }
        }

        function updateMenu() {
            displayMenu();
            let index = parseInt(prompt("Masukkan nomor menu yang ingin diupdate:"));
            if (index > 0 && index <= menu.length) {
                const pilihUpdate = parseInt(prompt(
                    "pilih mana yang akan diupdate : \n 1. Nama \n 2. Harga \n 3. Stok"))

                if (pilihUpdate == 1) {

                    let namaMenu = prompt("Masukan menu yang akan ditambahkan :");
                    menu[index - 1][0] = namaMenu.trim();

                } else if (pilihUpdate == 2) {

                    let hargaMenu = parseInt(prompt("Masukan harga menu yang akan ditambahkan :"));
                    menu[index - 1][1] = hargaMenu;

                } else if (pilihUpdate == 3) {

                    let stokMenu = parseInt(prompt("Masukan stok menu yang akan ditambahkan :"));
                    menu[index - 1][2] = stokMenu;

                } else {
                    alert("input tidak valid");
                }

            } else {
                alert("Menu yang dipilih tidak valid");
            }
        }

        function deleteMenu() {
            displayMenu();
            let index = parseInt(prompt("Masukkan nomor menu yang ingin dihapus:"));
            if (index > 0 && index <= menu.length) {
                let itemHapus = menu.splice(index - 1, 1);
                alert(`Menu "${itemHapus}" berhasil dihapus.`);
            } else {
                alert("Menu yang dipilih tidak valid.");
            }
        }

        let optionMenu;
        do {
            optionMenu = prompt(
                "=== CRUD Menu Warung Uda Asdi === \n 1. Lihat menu \n 2. Tambah menu \n 3. Update menu \n 4. Hapus menu \n 5. Keluar"
            );
            switch (optionMenu) {
                case "1":
                    displayMenu();
                    break;
                case "2":
                    tambahMenu();
                    break;
                case "3":
                    updateMenu();
                    break;
                case "4":
                    deleteMenu();
                    break;
                default:
                    alert("pilihan tidak valid.");
            }

        } while (optionMenu !== "5");
    </script>
</body>

</html>